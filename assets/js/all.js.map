{"version":3,"sources":["admin.js","all.js"],"names":["api_Path","api_Src","token","js0rderList","document","querySelector","orderData","getOrderList","axios","get","headers","then","response","data","orders","console","log","renderOrderList","err","chart","c3","generate","bindto","type","columns","colors","str","forEach","el","user","id","createdAt","paid","products","productStr","item","title","quantity","orderStatus","name","tel","address","email","innerHTML","addEventListener","e","preventDefault","targetClass","target","getAttribute","itemId","paidStatus","changeStatus","deleteOrder","status","updateStatus","put","alert","error","ele","style","cursor","pos","top","left","x","y","mouseDownHandler","userSelect","scrollLeft","scrollTop","clientX","clientY","mouseMoveHandler","mouseUpHandler","dx","dy","removeProperty","removeEventListener","menuOpenBtn","linkBtn","querySelectorAll","menu","menuToggle","closeMenu","classList","contains","remove","add","productWrap","productSelect","api_Url","api_Urlm","shoppingCartTable","cardItemTitle","perItemCart","jsTotal","orderInfoBtn","wData","init","axiosGet","renderData","domElement","length","productHTML","categorySelect","value","filterData","filter","category","getCart","subtotal","cartHTML","product","images","price","origin_price","cData","carts","finalTot","finalTotal","rendercData","textContent","addBtnClass","productId","num","post","cartId","discardAllBtn","customerName","customerPhone","customerEmail","customerAddress","tradeWay","getOrder"],"mappings":"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","file":"all.js","sourcesContent":["const api_Path = '2022nov';\nconst api_Src = \"https://livejs-api.hexschool.io/api/livejs/v1\";\nconst token = \"BvRBbqadN2RAHi0hwsvYiN0VQAy1\";\nconst js0rderList = document.querySelector('.js-orderList');\n\nlet orderData = [];\n\n\ngetOrderList();\n\n// axios get訂單列表\nfunction getOrderList(){\n    axios.get(`${api_Src}/admin/${api_Path}/orders`,{\n        headers:{\n           \"Authorization\": token\n        }\n    })\n  .then(function(response){\n    orderData = response.data.orders;\n    console.log(orderData);\n    renderOrderList(orderData);\n  })\n  .catch(function(err){\n    console.log(err);\n  })\n}\n\nlet chart = c3.generate({\n    bindto: '#chart', // HTML 元素綁定\n    data: {\n        type: \"pie\",\n        columns: [\n        ['Louvre 雙人床架', 1],\n        ['Antony 雙人床架', 2],\n        ['Anty 雙人床架', 3],\n        ['其他', 4],\n        ],\n        colors:{\n            \"Louvre 雙人床架\":\"#DACBFF\",\n            \"Antony 雙人床架\":\"#9D7FEA\",\n            \"Anty 雙人床架\": \"#5434A7\",\n            \"其他\": \"#301E5F\",\n        }\n    },\n});\n\n// 渲染訂單order list\nfunction renderOrderList(data){\n    let str =\"\";\n    //組產品字串\n    //判斷訂單狀態\n    //組訂單字串\n    data.forEach(el =>{\n        const {user, id, createdAt, paid, products} = el;\n        let productStr =\"\";\n        products.forEach(item =>{\n        productStr +=`<p>${item.title}x${item.quantity}</p>`;\n        })\n        let orderStatus =\"\";\n        if(paid==true){\n            orderStatus =\"已處理\";\n        }else{\n            orderStatus =\"未付款\";\n        }\n        str+= `<tr>\n        <td width=\"10%\">${id}</td>\n        <td width=\"10%\">\n          <p>${user.name}</p>\n          <p>${user.tel}</p>\n        </td>\n        <td width=\"10%\">${user.address}</td>\n        <td width=\"15%\">${user.email}</td>\n        <td width=\"25%\">\n        ${productStr}\n        </td>\n        <td width=\"10%\">${createdAt}</td>\n        <td width=\"10%\" class=\"orderStatus\">\n          <a href=\"#\" data-id=\"${id}\" data-status=\"${paid}\" class=\"orderStatus\">${orderStatus}</a>\n        </td>\n        <td width=\"10%\">\n          <input type=\"button\" class=\"delSingleOrder-Btn\" data-id=\"${id}\" value=\"刪除\">\n        </td>\n    </tr>`;\n  \n    js0rderList.innerHTML = str; //放在forEach裡才渲染得出來\n    }) \n    \n    js0rderList.addEventListener('click',(e) =>{\n        e.preventDefault();\n        const targetClass = e.target.getAttribute('class'); //抓到未付款＆刪除的class\n        const itemId = e.target.getAttribute('data-id'); //兩個id一樣，class不同去二分情況\n        const paidStatus = e.target.getAttribute('data-status');\n        if(targetClass ==\"orderStatus\"){\n            console.log(itemId);\n            console.log(paidStatus);\n            changeStatus(paidStatus,itemId);\n            return;\n        }else if(targetClass ==\"delSingleOrder-Btn\"){\n         deleteOrder(itemId);\n        }\n    })\n}\n\n//寫個別『刪除訂單資料』的函式axios delete\n\nfunction deleteOrder(id){\n  axios.delete(`${api_Src}/admin/${api_Path}/orders/${id}`,{\n    headers:{\n       \"Authorization\": token\n    }\n})\n  .then(function(response){\n    getOrderList();\n  })\n}\n\n//寫個別『更改訂單狀態』的函式axios put -注意axios規定參數格式\n\nfunction changeStatus(status,id){\n    console.log(status);\n    let updateStatus;\n    if(status==\"true\"){\n        updateStatus=false;\n        console.log(`現在改成${updateStatus}`)\n    }else{\n        updateStatus=true;\n        console.log(`現在改成${updateStatus}`)\n    }\n    axios.put(`${api_Src}/admin/${api_Path}/orders`,{\n        \"data\": {\n          \"id\": `${id}`,\n          \"paid\": `${updateStatus}`\n        }\n      },{\n        headers:{\n           \"Authorization\": token\n        }\n    })\n      .then(function(response){\n        alert('修改訂單狀態成功！');\n        getOrderList();\n      })\n      .catch(function(error){\n        console.log(error);\n      })\n}\n\n\n\n\n","// ~作業預設\ndocument.addEventListener('DOMContentLoaded', function() {\n    const ele = document.querySelector('.recommendation-wall');\n    ele.style.cursor = 'grab';\n    let pos = { top: 0, left: 0, x: 0, y: 0 };\n    const mouseDownHandler = function(e) {\n        ele.style.cursor = 'grabbing';\n        ele.style.userSelect = 'none';\n\n        pos = {\n            left: ele.scrollLeft,\n            top: ele.scrollTop,\n            // Get the current mouse position\n            x: e.clientX,\n            y: e.clientY,\n        };\n\n        document.addEventListener('mousemove', mouseMoveHandler);\n        document.addEventListener('mouseup', mouseUpHandler);\n    };\n    const mouseMoveHandler = function(e) {\n        // How far the mouse has been moved\n        const dx = e.clientX - pos.x;\n        const dy = e.clientY - pos.y;\n\n        // Scroll the element\n        ele.scrollTop = pos.top - dy;\n        ele.scrollLeft = pos.left - dx;\n    };\n    const mouseUpHandler = function() {\n        ele.style.cursor = 'grab';\n        ele.style.removeProperty('user-select');\n\n        document.removeEventListener('mousemove', mouseMoveHandler);\n        document.removeEventListener('mouseup', mouseUpHandler);\n    };\n    // Attach the handler\n    ele.addEventListener('mousedown', mouseDownHandler);\n});\n// menu 切換\nlet menuOpenBtn = document.querySelector('.menuToggle');\nlet linkBtn = document.querySelectorAll('.topBar-menu a');\nlet menu = document.querySelector('.topBar-menu');\nmenuOpenBtn.addEventListener('click', menuToggle);\n\nlinkBtn.forEach((item) => {\n    item.addEventListener('click', closeMenu);\n})\n\nfunction menuToggle() {\n    if(menu.classList.contains('openMenu')) {\n        menu.classList.remove('openMenu');\n    }else {\n        menu.classList.add('openMenu');\n    }\n}\nfunction closeMenu() {\n    menu.classList.remove('openMenu');\n}\n\n// ~作業預設\n\nconst productWrap = document.querySelector('.productWrap');\nconst productSelect = document.querySelector('.productSelect');\nconst api_Url = \"https://livejs-api.hexschool.io/api/livejs/v1/customer/2022nov\";\nconst api_Urlm = \"https://livejs-api.hexschool.io/api/livejs/v1/admin/2022nov\";\nconst api_Path = '2022nov';\nconst api_Src = \"https://livejs-api.hexschool.io/api/livejs/v1\"\nconst shoppingCartTable = document.querySelector('.shoppingCart-table');\nconst cardItemTitle = document.querySelector('.cardItem-title');\nconst perItemCart = document.querySelector('.perItemCart');\nconst jsTotal = document.querySelector('.js-total');\nconst orderInfoBtn = document.querySelector('.orderInfo-btn');\nconst token = \"BvRBbqadN2RAHi0hwsvYiN0VQAy1\";\n\n//axios.get資料\n\nlet wData = [];\n\ninit();\n\n//get一般product\nfunction axiosGet(){\n  axios.get(`${api_Url}/products`)\n  .then(function(response){\n    wData = response.data.products;\n    console.log(wData);\n\n    renderData(wData,productWrap);\n   \n})\n  .catch(function(err){\n    console.log(err);\n  })\n}\n\n//渲染一般product\nfunction renderData(data,domElement){\n    let str =\"\";\n    data.forEach(item =>{\n        if(data.length>0){\n        str += productHTML(item) }\n    else{\n        return \"\";\n    }\n    domElement.innerHTML = str;\n    })  \n    \n}\n\n//篩選一般product\n\nproductSelect.addEventListener('change', e =>{\n    let categorySelect = e.target.value;\n    const filterData = wData.filter(el =>{\n        return el.category === categorySelect;\n    })\n    categorySelect === \"全部\"?renderData(wData):renderData(filterData);\n})\n\n//初始化\nfunction init(){\n    axiosGet();\n    getCart();\n    productSelect.value = \"全部\";\n}\n\nlet subtotal = 0;\n//函式消除重複\nfunction cartHTML(item){\n    const {title,images,price} = item.product;\n    const {quantity, id} = item;\n    subtotal = price*quantity;\n    return `<tr class=\"perItem\"><td>\n    <div class=\"cardItem-title\">\n        <img src=\"${images}\" alt=\"\">\n        <p>${title}</p>\n    </div>\n</td>\n<td>NT$${price}</td>\n<td>${quantity}</td>\n<td class=\"subtotal\">NT$${subtotal}</td>\n<td class=\"discardBtn\">\n<a href=\"#\" class=\"material-icons\" data-id=\"${id}\"> \n    clear\n</a>\n</td></tr>`\n} //注意取用cart的id還是product的id\n\nfunction productHTML(item){\n    const {id, images, title,origin_price, price} = item;\n    return ` <li class=\"productCard\">\n    <h4 class=\"productType\">新品</h4>\n    <img src=\"${images}\" alt=\"\">\n    <a href=\"#\" class=\"addCardBtn\" data-id=\"${id}\">加入購物車</a>\n    <h3>${title}</h3>\n    <del class=\"originPrice\">NT$${origin_price}</del>\n    <p class=\"nowPrice\">NT$${price}</p>\n    </li> `\n}\n\n//get購物車carts\n\nlet cData = [];\n\nfunction getCart(){\n    axios.get(`${api_Url}/carts`)\n  .then(function(response){\n    cData = response.data.carts;\n    let finalTot = response.data.finalTotal;\n    rendercData(cData,perItemCart)\n    jsTotal.textContent = finalTot;\n  })\n  .catch(function(err){\n    console.log(err);\n  })\n}\n\n\n//渲染購物車 carts\nfunction rendercData(data,domElement){\n    let str =\"\";\n    data.forEach(item =>{\n    if(data.length>0){\n         str += cartHTML(item);  \n }\n})   \n    domElement.innerHTML = str;\n\n    console.log('渲染購物車成功');\n}\n\n//『加入購物車』按鈕的監聽//技巧：監聽整個顯示商品的ul區域，可以限制監聽行為不會莫名其妙跑到其他區塊去，一個一個綁效能很差。缺點二：萬一寫到後面有一樣的li的class名稱，監聽會套用在你沒預期的地方。\n\nproductWrap.addEventListener('click', (e) => {\n    e.preventDefault();\n    let addBtnClass = e.target.getAttribute('class');\n    if (addBtnClass !== 'addCardBtn') {\n        return\n    }\n    let productId = e.target.getAttribute('data-id');\n    let num = 1;\n    cData.forEach(item =>{\n        if(item.product.id===productId){\n            num = item.quantity +=1;\n        }else{\n            item.quantity = num;\n        }\n    })\n    console.log(num);\n    axios.post(`${api_Url}/carts`,{\n        \"data\": {\n            \"productId\": productId,\n            \"quantity\": num\n          }\n    }).then(function(response){\n        alert('加入購物車成功！')\n        getCart();\n    })\n\n})\n//『刪除單筆』按鈕的監聽//多個按鈕，往上找父層，僅綁tbody\n\nperItemCart.addEventListener('click', (e) =>{\n    e.preventDefault();\n    const cartId = e.target.getAttribute('data-id');\n    console.log(cartId);\n    if(cartId==null){\n        return;\n    }else{\n        axios.delete(`${api_Url}/carts/${cartId}`)\n        .then(function(response){\n            console.log(response);\n            alert('刪除購物車成功！')   \n            getCart();    \n        })  \n    }\n   \n})\n\nconst discardAllBtn = document.querySelector('.discardAllBtn');\n\n//『刪除全部』按鈕的監聽//單個按鈕，僅綁單個按鈕\n\ndiscardAllBtn.addEventListener('click', (e) =>{\n    e.preventDefault();\n    axios.delete(`${api_Url}/carts/`)\n        .then(function(response){\n            alert('購物車成功清空！')   \n            getCart();    \n        })\n        .catch(function(err){\n            alert('已清空，勿重複點擊');\n        })  \n    })\n\n//『送出預定資料』按鈕的監聽//單個按鈕，僅綁單個按鈕\norderInfoBtn.addEventListener('click', (e) =>{\n    e.preventDefault();\n    if(cData.length==0){\n    alert(\"購物車裡尚未有品項，請加入至少一項再送出！\");\n    return;\n    }\n    let customerName = document.querySelector('#customerName').value;\n    let customerPhone = document.querySelector('#customerPhone').value;\n    let customerEmail = document.querySelector('#customerEmail').value;\n    let customerAddress = document.querySelector('#customerAddress').value;\n    let tradeWay = document.querySelector('#tradeWay').value;\n    if(customerName==\"\"||customerPhone==\"\"|| customerAddress==\"\"|| customerEmail==\"\"){\n        alert(\"資料不全，請檢查再送出！\");\n        return;\n    }\n    axios.post(`${api_Url}/orders`,{\n        \"data\": {\n          \"user\": {\n            \"name\": customerName,\n            \"tel\": customerPhone,\n            \"email\": customerEmail,\n            \"address\": customerAddress,\n            \"payment\": tradeWay\n          }\n        }\n      }).then(function(response){\n        alert('送出訂單成功！')\n        console.log(response.data);\n        getOrder();\n        getCart();\n        customerName = \"\";\n        customerPhone = \"\";\n        customerEmail = \"\";\n        customerAddress = \"\";\n        tradeWay= \"\";\n    })\n}) \n\n//get購物車carts\n\n\nfunction getOrder(){\n    axios.get(`${api_Urlm}/orders`,{\n        headers:{\n           \"Authorization\": token\n        }\n    })\n  .then(function(response){\n    console.log(response.data);\n  })\n  .catch(function(err){\n    console.log(err);\n  })\n}\n\n\n\n\n/*async function clearAfterOrder(){\n    await  axios.post(`${api_Url}/orders`,{\n        \"data\": {\n          \"user\": {\n            \"name\": customerName,\n            \"tel\": customerPhone,\n            \"email\": customerEmail,\n            \"address\": customerAddress,\n            \"payment\": tradeWay\n          }\n        }\n      }).then(function(response){\n        alert('送出訂單成功！')\n        customerName = \"\";\n        customerPhone = \"\";\n        customerEmail = \"\";\n        customerAddress = \"\";\n        tradeWay= \"\";})\n\n    await  axios.delete(`${api_Url}/carts/`)\n      .then(function(response){\n          getCart();\n      })\n}*/\n\n  /*|| \n  addCardBtn.forEach((btn) =>{\n        btn.addEventListener('click', (e) => {\n        const idVal = e.target.getAttribute('id');\n        let num = 1;\n        //舊盲點：一直想要使用畫面上已有的元素，但沒想到依賴api的部分\n        cData.forEach((el) =>{\n            if(el.product.id===idVal){\n                console.log(\"下方車已有\");\n                num = item.quantity +=1;\n            }else{\n            console.log(\"下方車未有\");\n             let print = document.createElement('tr');\n             let lastCart = shoppingCartTable.lastChild;\n             cData.filter(item =>{\n                item.product.id === idVal;\n                print.innerHTML = cartHTML(item); \n        print.setAttribute('id',idVal);\n        shoppingCartTable.insertBefore(print,lastCart);//效能（？\n             })\n            \n            }\n        })\n    })\n  })*/\n\n\n\n\n\n\n\n\n"]}