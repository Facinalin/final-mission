{"version":3,"sources":["admin.js","all.js"],"names":["api_Path","api_Src","token","js0rderList","document","querySelector","orderData","getOrderList","axios","get","headers","then","response","data","orders","renderOrderList","renderc3","err","console","log","total","forEach","item","products","el","category","undefined","price","quantity","categoryArr","Object","keys","newData","arr","push","sort","a","b","otherTotal","length","i","splice","chart","c3","generate","bindto","type","columns","colors","addEventListener","e","preventDefault","targetClass","target","getAttribute","itemId","paidStatus","changeStatus","deleteOrder","str","user","id","createdAt","paid","timeStamp","Date","time","getFullYear","getMonth","getDate","productStr","title","orderStatus","name","tel","address","email","innerHTML","status","updateStatus","put","error","toThousands","x","parts","toString","split","replace","join","ele","style","cursor","pos","top","left","y","mouseDownHandler","userSelect","scrollLeft","scrollTop","clientX","clientY","mouseMoveHandler","mouseUpHandler","dx","dy","removeProperty","removeEventListener","menuOpenBtn","linkBtn","querySelectorAll","menu","menuToggle","closeMenu","classList","contains","remove","add","productWrap","productSelect","api_Url","api_Urlm","shoppingCartTable","cardItemTitle","perItemCart","jsTotal","orderInfoBtn","wData","init","axiosGet","renderData","domElement","productHTML","categorySelect","value","filterData","filter","getCart","subtotal","cartHTML","product","images","origin_price","cData","carts","finalTot","finalTotal","rendercData","textContent","addBtnClass","productId","num","post","alert","cartId","discardAllBtn","customerName","customerPhone","customerEmail","customerAddress","tradeWay","getOrder","inputs","orderInfoForm","constraints","presence","message","format","pattern","is","nextElementSibling","errors","validate","form","reset"],"mappings":"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","file":"all.js","sourcesContent":["const api_Path = '2022nov';\nconst api_Src = \"https://livejs-api.hexschool.io/api/livejs/v1\";\nconst token = \"BvRBbqadN2RAHi0hwsvYiN0VQAy1\";\nconst js0rderList = document.querySelector('.js-orderList');\n\nlet orderData = [];\n\n\ngetOrderList();\n\n// axios get訂單列表+順便執行c3\nfunction getOrderList(){\n    axios.get(`${api_Src}/admin/${api_Path}/orders`,{\n        headers:{\n           \"Authorization\": token\n        }\n    })\n  .then(function(response){\n    orderData = response.data.orders;\n    renderOrderList(orderData);\n    renderc3();\n  })\n  .catch(function(err){\n    console.log(err);\n  })\n}\n\n\n//渲染c3圖表\nfunction renderc3(){\n    let total = {};\n    orderData.forEach(item =>{\n    const {products} = item;\n    products.forEach(el =>{\n    if(total[el.category]==undefined){\n     total[el.category]=el.price*el.quantity;  \n    }else{\n     total[el.category]+=el.price*el.quantity;  \n    }\n    })\n    })\n    let categoryArr = Object.keys(total);\n    let newData = [];\n    categoryArr.forEach(el =>{\n     let arr = [];\n     arr.push(el);\n     arr.push(total[el]);\n     newData.push(arr);\n    })\n    newData.sort(function(a,b){\n        return b[1]-a[1];\n    })\n    let otherTotal = 0;\n    if(newData.length > 3){   \n      newData.forEach((el,i) =>{\n        if(i>2){\n            otherTotal+=el[1];\n        }\n      })\n    }\n    newData.splice(3,newData.length-1)\n    newData.push(['其他',otherTotal])\n\n\n    let chart = c3.generate({\n        bindto: '#chart', \n        data: {\n            type: \"pie\",\n            columns: newData,\n            colors:{\n                \"窗簾\":\"#DACBFF\",\n                \"床架\":\"#9D7FEA\",\n                \"收納\": \"#5434A7\",\n                \"其他\": \"#301E5F\",\n            }\n        },\n    });\n}\n\n \njs0rderList.addEventListener('click',(e) =>{\n    e.preventDefault();\n    const targetClass = e.target.getAttribute('class'); //抓到未付款＆刪除的class\n    const itemId = e.target.getAttribute('data-id'); //兩個id一樣，class不同去二分情況\n    const paidStatus = e.target.getAttribute('data-status');\n    if(targetClass ==\"orderStatus\"){\n        console.log(itemId);\n        console.log(paidStatus);\n        changeStatus(paidStatus,itemId);\n        return;\n    }else if(targetClass ==\"delSingleOrder-Btn\"){\n     deleteOrder(itemId);\n    }\n})\n\n\n// 渲染訂單order list\nfunction renderOrderList(data){\n    let str =\"\";\n    data.forEach(el =>{\n        const {user, id, createdAt, paid, products} = el;\n        //組成時間\n        const timeStamp = new Date(createdAt*1000);\n        const time = `${timeStamp.getFullYear()}/${timeStamp.getMonth() + 1}/${timeStamp.getDate()}`;\n        let productStr =\"\";\n        products.forEach(item =>{\n        productStr +=`<p>${item.title}x${item.quantity}</p>`;\n        })\n        let orderStatus =\"\";\n        if(paid==true){\n            orderStatus =\"已處理\";\n        }else{\n            orderStatus =\"未付款\";\n        }\n        str+= `<tr>\n        <td width=\"10%\">${id}</td>\n        <td width=\"10%\">\n          <p>${user.name}</p>\n          <p>${user.tel}</p>\n        </td>\n        <td width=\"10%\">${user.address}</td>\n        <td width=\"15%\">${user.email}</td>\n        <td width=\"25%\">\n        ${productStr}\n        </td>\n        <td width=\"10%\">${time}</td>\n        <td width=\"10%\" class=\"orderStatus\">\n          <a href=\"#\" data-id=\"${id}\" data-status=\"${paid}\" class=\"orderStatus\">${orderStatus}</a>\n        </td>\n        <td width=\"10%\">\n          <input type=\"button\" class=\"delSingleOrder-Btn\" data-id=\"${id}\" value=\"刪除\">\n        </td>\n    </tr>`;\n  \n    js0rderList.innerHTML = str; //放在forEach裡才渲染得出來\n    }) \n   \n}\n\n//寫個別『刪除訂單資料』的函式axios delete\n\nfunction deleteOrder(id){\n  axios.delete(`${api_Src}/admin/${api_Path}/orders/${id}`,{\n    headers:{\n       \"Authorization\": token\n    }\n})\n  .then(function(response){\n    getOrderList();\n  })\n}\n\n//寫個別『更改訂單狀態』的函式axios put -注意axios規定參數格式\n\nfunction changeStatus(status,id){\n    console.log(status);\n    let updateStatus;\n    if(status==\"true\"){\n        updateStatus=false;\n        console.log(`現在改成${updateStatus}`)\n    }else{\n        updateStatus=true;\n        console.log(`現在改成${updateStatus}`)\n    }\n    axios.put(`${api_Src}/admin/${api_Path}/orders`,{\n        \"data\": {\n          \"id\": id,\n          \"paid\": updateStatus\n        }\n      },{\n        headers:{\n           \"Authorization\": token\n        }\n    })\n      .then(function(response){\n        getOrderList();\n        console.log('修改訂單狀態成功！');\n      })\n      .catch(function(error){\n        console.log(error);\n      })\n}\n\n//utility js\n//千分位\n \nfunction toThousands(x) {\n     let parts = x.toString().split(\".\"); \n     parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"); \n     return parts.join(\".\"); \n}\n\n\n\n\n\n","// ~作業預設\ndocument.addEventListener('DOMContentLoaded', function() {\n    const ele = document.querySelector('.recommendation-wall');\n    ele.style.cursor = 'grab';\n    let pos = { top: 0, left: 0, x: 0, y: 0 };\n    const mouseDownHandler = function(e) {\n        ele.style.cursor = 'grabbing';\n        ele.style.userSelect = 'none';\n\n        pos = {\n            left: ele.scrollLeft,\n            top: ele.scrollTop,\n            // Get the current mouse position\n            x: e.clientX,\n            y: e.clientY,\n        };\n\n        document.addEventListener('mousemove', mouseMoveHandler);\n        document.addEventListener('mouseup', mouseUpHandler);\n    };\n    const mouseMoveHandler = function(e) {\n        // How far the mouse has been moved\n        const dx = e.clientX - pos.x;\n        const dy = e.clientY - pos.y;\n\n        // Scroll the element\n        ele.scrollTop = pos.top - dy;\n        ele.scrollLeft = pos.left - dx;\n    };\n    const mouseUpHandler = function() {\n        ele.style.cursor = 'grab';\n        ele.style.removeProperty('user-select');\n\n        document.removeEventListener('mousemove', mouseMoveHandler);\n        document.removeEventListener('mouseup', mouseUpHandler);\n    };\n    // Attach the handler\n    ele.addEventListener('mousedown', mouseDownHandler);\n});\n// menu 切換\nlet menuOpenBtn = document.querySelector('.menuToggle');\nlet linkBtn = document.querySelectorAll('.topBar-menu a');\nlet menu = document.querySelector('.topBar-menu');\nmenuOpenBtn.addEventListener('click', menuToggle);\n\nlinkBtn.forEach((item) => {\n    item.addEventListener('click', closeMenu);\n})\n\nfunction menuToggle() {\n    if(menu.classList.contains('openMenu')) {\n        menu.classList.remove('openMenu');\n    }else {\n        menu.classList.add('openMenu');\n    }\n}\nfunction closeMenu() {\n    menu.classList.remove('openMenu');\n}\n\n// ~作業預設\n\nconst productWrap = document.querySelector('.productWrap');\nconst productSelect = document.querySelector('.productSelect');\nconst api_Url = \"https://livejs-api.hexschool.io/api/livejs/v1/customer/2022nov\";\nconst api_Urlm = \"https://livejs-api.hexschool.io/api/livejs/v1/admin/2022nov\";\nconst api_Path = '2022nov';\nconst api_Src = \"https://livejs-api.hexschool.io/api/livejs/v1\";\nconst shoppingCartTable = document.querySelector('.shoppingCart-table');\nconst cardItemTitle = document.querySelector('.cardItem-title');\nconst perItemCart = document.querySelector('.perItemCart');\nconst jsTotal = document.querySelector('.js-total');\nconst orderInfoBtn = document.querySelector('.orderInfo-btn');\nconst token = \"BvRBbqadN2RAHi0hwsvYiN0VQAy1\";\n\n//axios.get資料\n\nlet wData = [];\n\ninit();\n\n//get一般product\nfunction axiosGet(){\n  axios.get(`${api_Url}/products`)\n  .then(function(response){\n    wData = response.data.products;\n    console.log(wData);\n\n    renderData(wData,productWrap);\n   \n})\n  .catch(function(err){\n    console.log(err);\n  })\n}\n\n//渲染一般product\nfunction renderData(data,domElement){\n    let str =\"\";\n    data.forEach(item =>{\n        if(data.length>0){\n        str += productHTML(item) }\n    else{\n        return \"\";\n    }\n    domElement.innerHTML = str;\n    })  \n    \n}\n\n//篩選一般product\n\nproductSelect.addEventListener('change', e =>{\n    let categorySelect = e.target.value;\n    const filterData = wData.filter(el =>{\n        return el.category === categorySelect;\n    })\n    categorySelect === \"全部\"?renderData(wData):renderData(filterData);\n})\n\n//初始化\nfunction init(){\n    axiosGet();\n    getCart();\n    productSelect.value = \"全部\";\n}\n\nlet subtotal = 0;\n//函式消除重複\nfunction cartHTML(item){\n    const {title,images,price} = item.product;\n    const {quantity, id} = item;\n    subtotal = price*quantity;\n    return `<tr class=\"perItem\"><td>\n    <div class=\"cardItem-title\">\n        <img src=\"${images}\" alt=\"\">\n        <p>${title}</p>\n    </div>\n</td>\n<td>NT$${toThousands(price)}</td>\n<td>${quantity}</td>\n<td class=\"subtotal\">NT$${toThousands(subtotal)}</td>\n<td class=\"discardBtn\">\n<a href=\"#\" class=\"material-icons\" data-id=\"${id}\"> \n    clear\n</a>\n</td></tr>`\n} //注意取用cart的id還是product的id\n\nfunction productHTML(item){\n    const {id, images, title,origin_price, price} = item;\n    return ` <li class=\"productCard\">\n    <h4 class=\"productType\">新品</h4>\n    <img src=\"${images}\" alt=\"\">\n    <a href=\"#\" class=\"addCardBtn\" data-id=\"${id}\">加入購物車</a>\n    <h3>${title}</h3>\n    <del class=\"originPrice\">NT$${toThousands(origin_price)}</del>\n    <p class=\"nowPrice\">NT$${toThousands(price)}</p>\n    </li> `\n}\n\n//get購物車carts\n\nlet cData = [];\n\nfunction getCart(){\n    axios.get(`${api_Url}/carts`)\n  .then(function(response){\n    cData = response.data.carts;\n    let finalTot = response.data.finalTotal;\n    rendercData(cData,perItemCart)\n    jsTotal.textContent = toThousands(finalTot);\n  })\n  .catch(function(err){\n    console.log(err);\n  })\n}\n\n\n//渲染購物車 carts\nfunction rendercData(data,domElement){\n    let str =\"\";\n    data.forEach(item =>{\n    if(data.length>0){\n         str += cartHTML(item);  \n }\n})   \n    domElement.innerHTML = str;\n\n    console.log('渲染購物車成功');\n}\n\n//『加入購物車』按鈕的監聽//技巧：監聽整個顯示商品的ul區域，可以限制監聽行為不會莫名其妙跑到其他區塊去，一個一個綁效能很差。缺點二：萬一寫到後面有一樣的li的class名稱，監聽會套用在你沒預期的地方。\n\nproductWrap.addEventListener('click', (e) => {\n    e.preventDefault();\n    let addBtnClass = e.target.getAttribute('class');\n    if (addBtnClass !== 'addCardBtn') {\n        return\n    }\n    let productId = e.target.getAttribute('data-id');\n    let num = 1;\n    cData.forEach(item =>{\n        if(item.product.id===productId){\n            num = item.quantity +=1;\n        }else{\n            item.quantity = num;\n        }\n    })\n    console.log(num);\n    axios.post(`${api_Url}/carts`,{\n        \"data\": {\n            \"productId\": productId,\n            \"quantity\": num\n          }\n    }).then(function(response){\n        alert('加入購物車成功！')\n        getCart();\n    })\n\n})\n//『刪除單筆』按鈕的監聽//多個按鈕，往上找父層，僅綁tbody\n\nperItemCart.addEventListener('click', (e) =>{\n    e.preventDefault();\n    const cartId = e.target.getAttribute('data-id');\n    console.log(cartId);\n    if(cartId==null){\n        return;\n    }else{\n        axios.delete(`${api_Url}/carts/${cartId}`)\n        .then(function(response){\n            console.log(response);\n            alert('刪除購物車成功！')   \n            getCart();    \n        })  \n    }\n   \n})\n\nconst discardAllBtn = document.querySelector('.discardAllBtn');\n\n//『刪除全部』按鈕的監聽//單個按鈕，僅綁單個按鈕\n\ndiscardAllBtn.addEventListener('click', (e) =>{\n    e.preventDefault();\n    axios.delete(`${api_Url}/carts/`)\n        .then(function(response){\n            alert('購物車成功清空！')   \n            getCart();    \n        })\n        .catch(function(err){\n            alert('已清空，勿重複點擊');\n        })  \n    })\n\n//『送出預定資料』按鈕的監聽//單個按鈕，僅綁單個按鈕\norderInfoBtn.addEventListener('click', (e) =>{\n    e.preventDefault();\n    if(cData.length==0){\n    alert(\"購物車裡尚未有品項，請加入至少一項再送出！\");\n    return;\n    }\n    let customerName = document.querySelector('#customerName').value;\n    let customerPhone = document.querySelector('#customerPhone').value;\n    let customerEmail = document.querySelector('#customerEmail').value;\n    let customerAddress = document.querySelector('#customerAddress').value;\n    let tradeWay = document.querySelector('#tradeWay').value;\n    if(customerName==\"\"||customerPhone==\"\"|| customerAddress==\"\"|| customerEmail==\"\"){\n        alert(\"資料不全，請檢查再送出！\");\n        return;\n    }\n    axios.post(`${api_Url}/orders`,{\n        \"data\": {\n          \"user\": {\n            \"name\": customerName,\n            \"tel\": customerPhone,\n            \"email\": customerEmail,\n            \"address\": customerAddress,\n            \"payment\": tradeWay\n          }\n        }\n      }).then(function(response){\n        alert('送出訂單成功！')\n        console.log(response.data);\n        getOrder();\n        getCart();\n        customerName = \"\";\n        customerPhone = \"\";\n        customerEmail = \"\";\n        customerAddress = \"\";\n        tradeWay= \"\";\n    })\n}) \n\n//get購物車carts\n\n\nfunction getOrder(){\n    axios.get(`${api_Urlm}/orders`,{\n        headers:{\n           \"Authorization\": token\n        }\n    })\n  .then(function(response){\n    console.log(response.data);\n  })\n  .catch(function(err){\n    console.log(err);\n  })\n}\n//validate js\n\nconst inputs = document.querySelectorAll('input[name],select[data=payment]')\nconst orderInfoForm = document.querySelector('.orderInfo-form')\n\norderInfoBtn.addEventListener('click', e =>{\n    //validate js 套件的規則\n    const constraints = {\n        \"姓名\": {\n            presence: {\n                message: \"必填欄位\"\n            }\n        },\n        \"手機號碼\": {\n            presence: {\n                message: \"是必填的欄位\"\n            },\n            format: {\n                pattern: /^09\\d{2}-?\\d{3}-?\\d{3}$/,\n                message: \"開頭須為09\"\n            },\n            length: {\n                is: 10,\n                message: \"長度須為10碼\"\n            }\n        },\n        \"信箱\": {\n            presence: {\n                message: \"是必填的欄位\"\n            },\n            format: {\n                pattern: /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/,\n                message: \"格式輸入錯誤，需有@ 、.等符號\"\n            },\n        },\n        \"寄送地址\": {\n            presence: {\n                message: \"必填欄位\"\n            }\n        }\n    };\n    inputs.forEach(el =>{\n        el.addEventListener('blur', function(){\n            el.nextElementSibling.textContent = ''; //這邊的nextElementSibling是警示文字的元素\n            let errors = validate(orderInfoForm, constraints) || '';\n            console.log(errors);\n            console.log(\"here\");\n            Object.keys(errors).forEach(function(el){\n                document.querySelector(`[data-message=\"${el}\"]`).textContent = errors[el];\n                })\n        })\n    })\n    let errors = validate(orderInfoForm, constraints);\n    if(errors){\n        console.log(errors);\n\n    }else{\n        alert(\"表單成功送出！\");\n        form.reset();\n    }\n\n})\n\n\n/**/\n/*async function clearAfterOrder(){\n    await  axios.post(`${api_Url}/orders`,{\n        \"data\": {\n          \"user\": {\n            \"name\": customerName,\n            \"tel\": customerPhone,\n            \"email\": customerEmail,\n            \"address\": customerAddress,\n            \"payment\": tradeWay\n          }\n        }\n      }).then(function(response){\n        alert('送出訂單成功！')\n        customerName = \"\";\n        customerPhone = \"\";\n        customerEmail = \"\";\n        customerAddress = \"\";\n        tradeWay= \"\";})\n\n    await  axios.delete(`${api_Url}/carts/`)\n      .then(function(response){\n          getCart();\n      })\n}*/\n\n  /*|| \n  addCardBtn.forEach((btn) =>{\n        btn.addEventListener('click', (e) => {\n        const idVal = e.target.getAttribute('id');\n        let num = 1;\n        //舊盲點：一直想要使用畫面上已有的元素，但沒想到依賴api的部分\n        cData.forEach((el) =>{\n            if(el.product.id===idVal){\n                console.log(\"下方車已有\");\n                num = item.quantity +=1;\n            }else{\n            console.log(\"下方車未有\");\n             let print = document.createElement('tr');\n             let lastCart = shoppingCartTable.lastChild;\n             cData.filter(item =>{\n                item.product.id === idVal;\n                print.innerHTML = cartHTML(item); \n        print.setAttribute('id',idVal);\n        shoppingCartTable.insertBefore(print,lastCart);//效能（？\n             })\n            \n            }\n        })\n    })\n  })*/\n\n\n\n\n\n\n\n\n"]}